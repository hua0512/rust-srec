# ============================================================
# Rust-Srec 环境变量配置
# ============================================================
# 将此文件复制为 .env 并配置相关数值

# ============================================================
# 时区配置
# ============================================================
TZ=Asia/Shanghai

# ============================================================
# Docker 镜像版本
# ============================================================
VERSION=latest

# ============================================================
# 目录路径 (主机挂载卷)
# ============================================================
DATA_DIR=./data
CONFIG_DIR=./config
OUTPUT_DIR=./output
LOG_DIR=./logs

# ============================================================
# 端口配置
# ============================================================
API_PORT=12555
FRONTEND_PORT=15275

# ============================================================
# 后端配置
# ============================================================

# 日志级别: trace, debug, info, warn, error
RUST_LOG=info

# 数据库连接字符串
DATABASE_URL=sqlite:///app/data/rust-srec.db

# ============================================================
# JWT 认证 (必需)
# ============================================================

# 用于签名 JWT 令牌的密钥 (必需 - 请生成一个安全的随机字符串)
JWT_SECRET=3e0335ec2b1e2f14360d16588bb0e7cf96c9fb4c6823e7a3a4e194d62e7e60b1

# JWT 签发者和受众标识符
JWT_ISSUER=rust-srec
JWT_AUDIENCE=rust-srec-api

# ============================================================
# 令牌过期时间
# ============================================================

# 访问令牌有效期（秒，默认：1小时）
ACCESS_TOKEN_EXPIRATION_SECS=3600

# 刷新令牌有效期（秒，默认：7天）
REFRESH_TOKEN_EXPIRATION_SECS=604800

# ============================================================
# 密码策略
# ============================================================

# 最小密码长度
MIN_PASSWORD_LENGTH=8

# ============================================================
# 资源限制 (Docker)
# ============================================================
# CPU_LIMIT=4
# MEMORY_LIMIT=4G
# CPU_RESERVATION=1
# MEMORY_RESERVATION=512M

# ============================================================
# 前端配置
# ============================================================

# 后端 API 地址 (Docker 内部网络地址)
BACKEND_URL=http://rust-srec:8080

# 会话 Cookie 加密密钥 (必需 - 至少 32 个字符)
SESSION_SECRET=184b659feea3a6ecc5732367013726d2c193f9ac49870d29256f852fd7f6a608

# Cookie 安全标志: 'true' = 始终启用, 'false' = 禁用, 留空 = 自动检测
# 自动检测使用 X-Forwarded-Proto 头 (推荐在反向代理后使用)
COOKIE_SECURE=
