[package]
name = "platforms-parser"
version = "0.1.8"
edition = "2024"
description = "A library for extracting streaming data from various online platforms."
repository = "https://github.com/hua0512/rust-srec"
license = "MIT OR Apache-2.0"
keywords = ["streaming", "extractor", "downloader"]
categories = ["multimedia::streaming", "api-bindings"]

[dependencies]
bytes = { version = "1.11.0" }
tokio = { version = "1.48.0", features = [
    "rt",
    "io-util",
    "macros",
    "fs",
] }
reqwest = { version = "0.12", default-features = false, features = [
    "json",
    "stream",
    "rustls-tls",
    "gzip",
    "deflate",
] }
rustls = { version = "0.23", default-features = false, features = [
    "logging",
    "aws-lc-rs",
    "tls12",
] }
rustls-platform-verifier = "0.6.2"
url = "2.5"
thiserror = "2.0"
libsm = "0.6.0"

serde = { version = "1.0", features = ["derive", "rc"] }
serde_json = "1.0"

regex = { version = "1.12", default-features = false, features = [
    "std",
    "unicode-perl",
] }
 
 # Logging
tracing = "0.1"
tracing-subscriber = "0.3"
async-trait = "0.1.89"
tars-codec = { path = "../tars-codec"}
rustc-hash = { version = "2.1" }
rand = "0.9.1"

# JavaScript engine
rquickjs = { version = "0.10.0", optional = true, features = ["full-async"] }

uuid  = {version = "1.19.0", features = ["v4"]}
m3u8-rs = "6.0.0"
md-5 = "0.10.6"
urlencoding = "2.1"
base64 = "0.22.1"
tokio-tungstenite = { version = "0.26.1", features = ["native-tls"] }
chrono = { version = "0.4", features = ["serde"] }
futures = "0.3"
# tokio-rustls = { version = "0.26", default-features = false, features = ["aws-lc-rs", "logging", "tls12"] }
# webpki-roots = "0.26"
flate2 = "1.0"
parking_lot = "0.12"
byteorder = "1.5"
brotli = "8.0"

# Protocol Buffers
prost = "0.14"
prost-types = "0.14"

[build-dependencies]
prost-build = "0.14"


[features]
default = ["douyu"]
douyu = ["rquickjs"]
